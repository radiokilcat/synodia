add_subdirectory(third_party)

add_library(anvil
  include/anvil.h
  src/test.cpp
  src/test.h
)

set(public_headers
    include/engine.h
)

set_target_properties(anvil PROPERTIES PUBLIC_HEADER "${public_headers}")

target_include_directories(anvil
    PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}/src
    PUBLIC
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
)


if(BUILD_SHARED_LIBS)
 target_link_libraries(anvil PUBLIC
   SDL3::SDL3
   SDL3_image::SDL3_image
   SDL3_ttf::SDL3_ttf
   SDL3_mixer::SDL3_mixer
 )
else()
 target_link_libraries(anvil PUBLIC
   SDL3::SDL3-static
   SDL3_image::SDL3_image-static
   SDL3_ttf::SDL3_ttf-static
   SDL3_mixer::SDL3_mixer-static
 )
endif()